<set-title title="Green Pill"></set-title><set-meta name="description" content="Developing my second STM32 Dev Module"></set-meta><set-meta name="keywords" content="engineering,electronics,pcb"></set-meta><img class="img-thumbnail rounded float-right" width="250" src="/img/stm32devmini.jpg" alt="finished product"><h1>Green Pill (second STM32 Dev Module)</h1><h2>Intro</h2><p>As I started learning STM32, I purchased a few cheap so-called "Blue Pill" boards from Lazada. Unfortunately these boards behaved quite oddly and I strongly suspect the STM processor is a "fake".</p><img class="img-fluid" src="/img/stdm/IMG_20200724_172406.jpg" alt="the fake blue pill module"><p>For another project I wanted to include a USB-C connector. For years, I have used Micro-B connectors on just about everything, but as the USB-C connector becomes more and more common, and due to the fact that it is much nicer (work both ways), rather than trying to source a better Blue Pill board, I decided to make my own.</p><h2>Schematics</h2><p>Searching the Internet, there are plenty of schematics for various versions of the Blue Pill boards. They are all (or mostly) build around an STM32F103 processor.</p><img class="img-fluid" src="/img/stm32devmini.svg" alt=""><p>Most of this, except perhaps the USB-C interface, is pretty run-of-the-mill stuff, but in the following sections I'll discuss the individual parts.</p><h3>Power Regulation</h3><p>The 3.3V rail is supplied by a 200 mA LDO ( <a href="https://lcsc.com/product-detail/Low-Dropout-Regulators-LDO_Torex-Semicon-XC6206P332MR_C5446.html" target="_blank">Torex Semicon XC6206P332MR </a>). The choice of this particular LDO is mostly dictated by price and availability in JLCPCB's part library.</p><h3>USB C Connection</h3><p>Using a USB-C connector, rather than the usual Micro-B one, was one of the reasons I designed this board in the first place. USB-C allow for insane speeds by having multiple data channels, but if only USB2.0 is needed, the electrical connections are pretty identical to a standard Micro-B connector (D+ and D-). The main differences are the CC1 and CC2 pins which essentially signals to the host that power is required. These pins need to be pulled to GND through a 5.1k resistor. If these are left out no power will be supplied.</p>