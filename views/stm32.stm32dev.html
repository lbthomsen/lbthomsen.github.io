<set-title title="STM32 Dev Module"></set-title><set-meta name="description" content="Developing my first STM32 Dev Module"></set-meta><set-meta name="keywords" content="engineering,electronics,pcb"></set-meta><img class="img-thumbnail rounded float-right" width="250" src="/img/stm32dev_a.jpg"><h1>First STM32 Dev module</h1><h2>Intro</h2><p>I could just have gone and purchased one of the countless STM32 dev modules available online, but in reality the important thing for me is to understand the micro processor and more importantly - how to use that processor in an actual electronic device. So I quickly decided to hack my own development module which I unimaginatively named "stm32dev".</p><p>Since I am about 20 years worth of eyesight degradation past finding it amusing to solder 0402 SMD components, JLCPCB's assembly service was/is the way to go. First step is therefore to check which STM32 processors they offer and heading over to <a href="https://jlcpcb.com/parts">https://jlcpcb.com/parts</a> and searching for "stm32" lead to quite a surprise:</p><img class="img-fluid" src="/img/jlcpcb_stm32_search.png"><p>Two things blew my mind there. First of all the sheer number of STM32 processors available (32 pages of 10 each) and second the fact that a lot of them are basic parts. It should be mentioned here that JLCPCB divide the parts in their library into Basic and Extended parts. You can use as many basic parts you want in your design, but only up to 10 extended parts and for each of those you pay $3 in setup cost.</p><p>Digging around a bit I settled on the <a href="https://datasheet.lcsc.com/szlcsc/STMicroelectronics-STM32F405RGT6_C15742.pdf">STM32F405</a>:</p><img class="img-fluid" src="/img/jlcpcb_stm32f405.png"><p>At $4.48 each, this processor packs quite a punch:</p><ul><li>ARM 32-bit Cortex M4 with FPU running at up to 168 MHz</li><li>1 MB of Flash memory</li><li>192 kB of RAM</li></ul><h2>Schematics Design</h2><p>Armed with the datasheet it was time to get cracking on putting a schematic together in <a href="/kicad">KiCAD</a>:</p><img class="img-fluid" src="/img/stm32dev_a_schematic.svg"><p>Here is not the right place to go through all the details in the schematic, but a few comments on each of the blocks.</p><h3>Power Supply</h3><p>The choice of <a href="https://datasheet.lcsc.com/szlcsc/1811201117_Advanced-Monolithic-Systems-AMS-AMS1117-3-3_C6186.pdf" target="_blank">AMS1117-3.3</a> was mostly due to it being a basic part in JLCPCB. It is however quite large (think it can handle in excess of 1 A) and a smaller LDO would probably have been sufficient. The USB standards define the 10 uF capacitor on VBUS as being the max. or the inrush current will be too large causing the USB host to shut power off.</p><h3></h3>